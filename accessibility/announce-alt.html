<!DOCTYPE html>
<html>
<head>
  <title>Screen Reader Announcement POC (VoiceOver Fix)</title>
  <style>
    #focusableDiv {
      width: 200px;
      height: 100px;
      border: 1px solid black;
      margin: 20px;
      padding: 10px;
      outline: none;
    }

    #announcementArea {
      position: absolute;
      left: -9999px;
      width: 1px;
      height: 1px;
      overflow: hidden;
      /* Crucial for VoiceOver */
      opacity: 0;
    }

    #focusableDiv:focus {
      border: 2px solid blue;
    }
  </style>
</head>
<body>

  <h1 tabindex="0">Om natuur te herstellen wil provincie grond gaan onteigenen</h1>

  <p tabindex="0">De provincie wil landbouwgrond van boeren die ze nodig heeft om de natuur te herstellen gaan onteigenen. In vijf gebieden wil de provincie vaart maken met de doelen voor natuur, 
    water, klimaat en landbouw en daar is grond voor nodig. De benodigde grond heeft de provincie inmiddels verkregen, op een paar stukjes na. Om verschillende redenen kunnen of willen 
    de eigenaren hun grond niet vrijwillig kwijt. Daarom stapt de provincie nu over op zwaardere maatregelen.</p>

  <div id="focusableDiv" tabindex="0">
    Blue Billywig player fake.
  </div>

  <p tabindex="0">"We realiseren ons heel goed dat dit mensen en hun bezit raakt", zegt gedeputeerde van Natuur Hagar Roijackers (GroenLinks) woensdagochtend. "Tegelijkertijd hebben we met elkaar een 
    belangrijke klus te klaren. Het ontbreken van deze laatste stukjes grond zorgt ervoor dat het herstel van natuur, water en bodem ook op andere plekken stokt."</p>

  <div id="announcementArea" aria-live="polite" aria-atomic="true"></div>

  <script>
    function screenReaderAnnounce(message) {
      const announcementArea = document.getElementById('announcementArea');
      announcementArea.textContent = ''; // Clear previous content
      // Delay before setting content to improve VoiceOver reliability
      setTimeout(() => {
        announcementArea.textContent = message;
      }, 100); // Small delay
    }

    const focusableDiv = document.getElementById('focusableDiv');

    focusableDiv.addEventListener('focus', () => {
      screenReaderAnnounce('You have focus on the Blue Billywig videoplayer. You can control the player using keyboard shortkeys. An overview of these shortkeys can be found by pressing questionmark (Shift + /). You can also turn off shortkeys completely from this overview.');
    });
  </script>

</body>
</html>
